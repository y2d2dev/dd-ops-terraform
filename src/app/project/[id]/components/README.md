# プロジェクト詳細ページコンポーネント

このディレクトリには、プロジェクト詳細ページ(`/project/[id]`)で使用されるコンポーネントが含まれています。

## コンポーネント構成

### ProjectHeader.tsx
プロジェクトのヘッダー部分を表示するコンポーネント
- プロジェクト名と説明の表示
- ファイルアップロード、報告書作成、プロジェクト削除のアクションボタン
- プロジェクト削除時の確認モーダルを内包

### ContractList.tsx
契約書一覧を表示するコンポーネント
- ファイルと契約書情報のマッピング表示
- 各契約書の状態（処理中/完了/未着手）の表示
- 編集ボタンによる契約書編集画面への遷移
- スクロール可能なリスト表示

### ReportModal.tsx
報告書作成モーダルコンポーネント
- 表形式とテキスト形式の2つの報告書形式をサポート
- 基本情報とリスク項目の表示設定
- CSVダウンロード機能
- テキスト形式でのクリップボードコピー機能
- リスク項目の並び順カスタマイズ

### RiskDetailModal.tsx
リスク詳細表示モーダルコンポーネント
- 選択された契約書の特定リスクタイプの詳細を表示
- 条文タイトル、条文概要、該当条文、理由の表示
- ページ番号と位置情報の表示

### utils.ts
共通ユーティリティ関数
- `extractBaseName`: ファイル名からベース名を抽出
- `groupFilesByBaseName`: ファイルをベース名でグループ化し、PDFとJSONのペアを作成

## データフロー

1. `page.tsx`がプロジェクト、契約書、ファイル情報を取得
2. 各コンポーネントに必要なデータとコールバック関数をpropsで渡す
3. ユーザーアクションは各コンポーネントから`page.tsx`のハンドラー関数を経由して処理される

## 主な機能

- **ファイルアップロード**: 外部アップロードアプリへのトークン連携
- **契約書編集**: PDFとJSONファイルの組み合わせで編集画面を開く
- **報告書作成**: 全契約書の分析結果をまとめた報告書の生成
- **リスク詳細表示**: 各リスクタイプの詳細情報の確認