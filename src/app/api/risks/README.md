# リスク管理API

## 概要
リスク管理APIは、AIが使用するリスク判定基準をワークスペースごとにカスタマイズ可能にし、業界特有のリスクや企業固有の観点を反映します。

## `/api/risks` - リスク一覧取得・作成

### 2層構造
- **デフォルトリスク**: `workspaceId = null`、全ワークスペース共通
- **カスタムリスク**: `workspaceId`設定、特定ワークスペースのみ

### デフォルトリスクタイプ
1. **契約解除リスク**: 不当な解除条項、一方的解除権
2. **損害賠償リスク**: 過大な賠償責任、無制限責任
3. **知的財産リスク**: 権利帰属の不明確さ、侵害責任
4. **機密保持リスク**: 不適切な情報開示、守秘義務違反
5. **競業避止リスク**: 過度な制限、不当な拘束
6. **保証責任リスク**: 過大な保証、瑕疵担保責任
7. **支払条件リスク**: 不利な支払条件、遅延損害金
8. **法的準拠リスク**: 不利な準拠法、管轄裁判所

### カスタムリスクの作成
```typescript
interface RiskForm {
  title: string;       // リスク名
  prompt: string;      // AI判定用プロンプト
  description: string; // 説明文
  workspaceId: number; // 所属ワークスペース
}
```

## `/api/risks/[id]` - リスク編集・削除

### 制限事項
- **デフォルトリスク**: 編集・削除不可
- **カスタムリスク**: ワークスペース所有者のみ編集可

### プロンプトエンジニアリング
AIの判定精度向上のため、以下の構成を推奨：
1. リスクの定義を明確に記述
2. 判断基準を具体的に列挙
3. 該当/非該当の例を提示